<!DOCTYPE html>
<html lang="en">
<head>
    <title>Projects</title>
</head>
<body>
<article>
    <header>
        <h3 id="main_title">Projects</h3>
    </header>
    <ol id="proj_list">
    </ol>
</article>

<script constexpr src="/static/js/constexpr/lib.js"></script>
<script constexpr src="/static/js/constexpr/index.js"></script>
<script constexpr src="/static/js/constexpr/nav.js"></script>
<script constexpr>
  startLoading()
  fetch("/collections/projects.json")
    .then(res => res.json())
    .then(ps => {
      const list = document.querySelector('#proj_list')
      ps.forEach(
        p => {
          const container = make_element(
            `
          <div>
              <li class="title"><a href="${p.url}">${p.name}</a></li>
              <li class="desc">${p.description}</li>
          </div>
          `,
            "table"
          );
          [...container.children].forEach(
            ch => list.appendChild(ch)
          )
          list.appendChild(
            make_element(
              `<li class="divider"/>`
            )
          )
        }
      )
      article.appendChild(list)
    })
    .then(finishLoading)

</script>
<style>
    ol {
        width: 100%;
        max-width: 100%;
        list-style: none;
        padding: 0;
    }
    ol > * {
        width: 100%;
        text-align: center;
        margin: 1em 0;
    }
    ol > .title {
        font-size: 1.5em;
    }
    .divider {
        width: 10em;
        margin: auto;
        height: 1px;
        background: grey;
    }
</style>
</body>
</html>
